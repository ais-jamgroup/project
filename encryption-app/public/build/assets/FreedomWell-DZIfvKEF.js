import{k as u,f as r,b as n,i as h,p as x,v as H,F as P,q as A,s as g,o as l,d as w,t as f,g as k}from"./app-DOWDtDR1.js";const E=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve"><path d="M95,27.5h-2.5V20c0-1.381-1.119-2.5-2.5-2.5h-7.5V15c0-1.381-1.119-2.5-2.5-2.5s-2.5,1.119-2.5,2.5v2.5h-5V15  c0-1.381-1.119-2.5-2.5-2.5H30c-1.381,0-2.5,1.119-2.5,2.5v2.5h-5V15c0-1.381-1.119-2.5-2.5-2.5s-2.5,1.119-2.5,2.5v2.5H10  c-1.381,0-2.5,1.119-2.5,2.5s1.119,2.5,2.5,2.5h7.5V78c0,0.277,0.056,0.539,0.139,0.789C19.201,86.482,34.685,90.5,50,90.5  s30.799-4.018,32.361-11.711C82.444,78.54,82.5,78.277,82.5,78V22.5h5V30c0,1.381,1.119,2.5,2.5,2.5h5c1.381,0,2.5-1.119,2.5-2.5  S96.381,27.5,95,27.5z M67.5,22.5h-15v-5h15V22.5z M47.5,22.5h-5v-5h5V22.5z M32.5,17.5h5v5h-5V17.5z M27.5,22.5V25  c0,1.381,1.119,2.5,2.5,2.5h17.5v7.039c-9.825,0.28-19.403,2.209-25,5.699V22.5H27.5z M77.5,67.5c0,2.29-5.67,5.422-15,7.002v-4.928  c6.004-0.924,11.349-2.535,15-4.812V67.5z M67.5,58.607v4.815c-4.023,1.075-9.112,1.861-15,2.037v-4.998  C57.762,60.311,62.953,59.69,67.5,58.607z M50,75.5c-2.651,0-5.157-0.125-7.5-0.346v-4.978c2.463,0.215,4.984,0.324,7.5,0.324  s5.037-0.109,7.5-0.324v4.978C55.157,75.375,52.651,75.5,50,75.5z M47.5,65.46c-5.888-0.176-10.977-0.963-15-2.037v-4.815  c4.547,1.083,9.738,1.704,15,1.854V65.46z M27.5,61.726c-3.214-1.392-5-2.941-5-4.226v-2.738c1.428,0.891,3.115,1.679,5,2.365  V61.726z M22.5,64.762c3.651,2.277,8.996,3.888,15,4.812v4.928c-9.33-1.58-15-4.712-15-7.002V64.762z M47.5,80.461v4.998  c-5.888-0.176-10.977-0.963-15-2.037v-4.815C37.047,79.69,42.238,80.311,47.5,80.461z M52.5,80.461  c5.262-0.15,10.453-0.771,15-1.854v4.815c-4.023,1.075-9.112,1.861-15,2.037V80.461z M77.5,57.5c0,1.285-1.786,2.834-5,4.226v-4.598  c1.885-0.686,3.572-1.475,5-2.365V57.5z M50,55.5c-16.532,0-27.5-4.815-27.5-8c0-3.021,9.874-7.506,25-7.96v3  c-7.847,0.229-13.255,1.503-16.501,2.589c-1.019,0.341-1.706,1.296-1.706,2.371s0.687,2.029,1.706,2.371  C34.58,51.07,40.782,52.5,50,52.5s15.421-1.43,19.001-2.629c1.309-0.439,2.015-1.855,1.576-3.165  c-0.439-1.309-1.856-2.013-3.165-1.576c-2.388,0.8-7.343,2.086-14.913,2.327V39.54c15.126,0.453,25,4.938,25,7.96  C77.5,50.685,66.532,55.5,50,55.5z M22.5,77.5v-2.738c1.428,0.891,3.115,1.679,5,2.365v4.598C24.286,80.334,22.5,78.785,22.5,77.5z   M72.5,81.726v-4.598c1.885-0.686,3.572-1.475,5-2.365V77.5C77.5,78.785,75.714,80.334,72.5,81.726z M77.5,40.238  c-5.597-3.49-15.175-5.419-25-5.699V27.5H70c1.381,0,2.5-1.119,2.5-2.5v-2.5h5V40.238z"/><text x="0" y="115" fill="#000000" font-size="5px" font-weight="bold" font-family="'Helvetica Neue', Helvetica, Arial-Unicode, Arial, Sans-serif">Created by Yorlmar Campos</text><text x="0" y="120" fill="#000000" font-size="5px" font-weight="bold" font-family="'Helvetica Neue', Helvetica, Arial-Unicode, Arial, Sans-serif">from the Noun Project</text></svg>`,K={class:"freedom-well"},N={class:"post-input-container"},S={class:"post-input"},L={class:"input-actions"},B={class:"encrypt-label"},O={class:"freedom-well-message"},T=["innerHTML"],I={class:"posts-container"},W={class:"posts"},$={class:"post-meta"},Y={key:0,class:"post-content"},G=["onClick"],J={key:1,class:"post-content"},Q={key:2,class:"decrypt-section"},R=["onUpdate:modelValue"],X=["onClick"],Z={key:0,class:"decrypted-content"},ee={__name:"FreedomWell",setup(j){const V=u([]),d=u(""),p=u(""),a=u(!1),M=u(E);async function _(){const s=await g.get("/freedomwell/posts");V.value=s.data.map(e=>({...e,showDecryptionField:!1,decryptionKey:"",decryptedContent:""}))}async function b(){let s=d.value;a.value&&p.value&&(s=z(d.value));try{await g.post("/freedomwell/posts",{content:s,encrypted:a.value,encryption_key:a.value?p.value:null}),d.value="",p.value="",a.value=!1,_()}catch(e){console.error("Error adding post:",e)}}const z=s=>{const e="ZYXWVUTSRQPONMLKJIHGFEDCBA~`/?><.,:;|}{][+_)(*&^%$#@!9876543210",t="ABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&*()_+[]{}|;:,.<>?/`~0123456789";return s.split("").map(o=>{const i=o===o.toUpperCase(),c=o.toUpperCase(),y=e.indexOf(c);if(y===-1)return o;const C=t[y],m=(e.indexOf(C)+1)%e.length,v=e[m];return i?v:v.toLowerCase()}).join("")},U=s=>{const e="ZYXWVUTSRQPONMLKJIHGFEDCBA~`/?><.,:;|}{][+_)(*&^%$#@!9876543210",t="ABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$%^&*()_+[]{}|;:,.<>?/`~0123456789";return s.split("").map(o=>{const i=o===o.toUpperCase(),c=o.toUpperCase(),y=e.indexOf(c);if(y===-1)return o;const C=t[y],m=(e.indexOf(C)-1+e.length)%e.length,v=e[m];return i?v:v.toLowerCase()}).join("")};function D(s){s.showDecryptionField=!s.showDecryptionField}function F(s){if(!s.decryptionKey){s.decryptedContent="Please enter a decryption key.";return}if(s.decryptionKey!==s.encryption_key){s.decryptedContent="Invalid decryption key.";return}try{const e=U(s.content);s.decryptedContent=e}catch{s.decryptedContent="Decryption failed. Please try again."}}return _(),(s,e)=>(l(),r("div",K,[n("div",N,[n("div",S,[e[4]||(e[4]=n("h1",{class:"post-title"},"Freedom Well",-1)),h(n("textarea",{"onUpdate:modelValue":e[0]||(e[0]=t=>d.value=t),placeholder:"Share your thoughts...",class:"textarea"},null,512),[[x,d.value]]),n("div",L,[h(n("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>p.value=t),placeholder:"Encryption Key (optional)",class:"input-key"},null,512),[[x,p.value]]),n("label",B,[h(n("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=t=>a.value=t),class:"checkbox-encrypt"},null,512),[[H,a.value]]),e[3]||(e[3]=n("span",null,"Encrypt",-1))]),n("button",{onClick:b,class:"btn-post"}," Post ")])]),n("div",O,[n("div",{class:"freedom-icon",innerHTML:M.value},null,8,T),e[5]||(e[5]=n("div",{class:"freedom-text"}," Use Freedom Well to share your thoughts freely and securely. ",-1))])]),n("div",I,[n("div",W,[(l(!0),r(P,null,A(V.value,(t,o)=>{var i;return l(),r("div",{key:o,class:"post"},[n("p",$,[e[6]||(e[6]=n("strong",null,"Posted by:",-1)),w(" "+f(((i=t.user)==null?void 0:i.name)||"Anonymous"),1)]),t.encrypted?(l(),r("p",Y,[e[7]||(e[7]=n("strong",null,"Encrypted:",-1)),n("span",{onClick:c=>D(t),class:"encrypted-message"},f(t.content),9,G)])):(l(),r("p",J,f(t.content),1)),t.showDecryptionField&&t.encrypted?(l(),r("div",Q,[h(n("input",{type:"text","onUpdate:modelValue":c=>t.decryptionKey=c,placeholder:"Enter key to decrypt",class:"input-key"},null,8,R),[[x,t.decryptionKey]]),n("button",{onClick:c=>F(t),class:"decrypt-button"}," Decrypt ",8,X),t.decryptedContent?(l(),r("p",Z,[e[8]||(e[8]=n("strong",null,"Decrypted:",-1)),w(" "+f(t.decryptedContent),1)])):k("",!0)])):k("",!0)])}),128))])])]))}};export{ee as default};
